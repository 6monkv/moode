<!--
/**
 * moOde audio player (C) 2014 Tim Curtis
 * http://moodeaudio.org
 *
 * tsunamp player ui (C) 2013 Andrea Coiutti & Simone De Gregori
 * http://www.tsunamp.com
 *
 * This Program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3, or (at your option)
 * any later version.
 *
 * This Program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * 2020-MM-DD TC moOde 6.5.0
 *
 */
-->
<div class="container">
	<div class="container2">
	<h1 class="lib-config">Library Config</h1>
		<legend>Music Sources</legend>

		<p>
			<a href="lib-config.php?cmd=add"><button class="btn btn-medium btn-primary">Create</button></a>&nbsp;Music source
		</p>

		<p>List of configured Music sources (click to edit)</p>

		<form class="form-horizontal" method="post">
			$_mounts

			<p>
				<a href="#remount-sources" data-toggle="modal"><button class="btn btn-medium btn-primary">Re-mount</button><span class="config-label">Music sources</span></a>
				<span id="info-remount" class="help-block-configs help-block-margin">
					Unmount then remount music sources.
                </span>
			</p>

			<p></p>
			<legend>MPD Database</legend>
			<p>
				<a href="#update-mpddb" data-toggle="modal"><button class="btn btn-medium btn-primary">Update</button><span class="config-label">MPD database</span></a>
			</p>
			<p>
				<a href="#regen-mpddb" data-toggle="modal"><button class="btn btn-medium btn-primary">Re-gen</button><span class="config-label">MPD database</span></a>
				<a aria-label="Help" class="info-toggle" data-cmd="info-regen-mpddb" href="#notarget"><i class="fas fa-info-circle"></i></a>
				<span id="info-regen-mpddb" class="help-block-configs help-block-margin hide">
					Re-gen scans all files. Update only scans for files that have changed.
                </span>
				<span id="info-rescanmpd" class="help-block-configs help-block-margin">
					Update or regenerate the MPD database.<br>
                </span>
			</p>

			<p>
			<div class="toggle">
				<label class="toggle-radio" for="toggle_usb_auto_updatedb1">YES</label>
				$_select[usb_auto_updatedb1]
				<label class="toggle-radio" for="toggle_usb_auto_updatedb0">NO</label>
				$_select[usb_auto_updatedb0]
			</div>
			<div style="display: inline-block; vertical-align: top; margin-top: 5px;">
				<button class="btn btn-primary btn-small btn-submit" type="submit" name="update_usb_auto_updatedb" value="novalue">Set</button>
			</div>
			<span id="info-usbautoupdate" class="help-block-configs" style="margin-top:-.35em;">
				Automatically update MPD database on USB insert/remove.<br>
            </span>
			</p>

			<p>
				<a href="#clear-libcache" data-toggle="modal"><button class="btn btn-medium btn-primary">Clear</button><span class="config-label">Library tag cache</span></a>
				<span id="info-clrlibcache" class="help-block-configs help-block-margin">
					The tag cache will be regenerated the next time the Library is opened.
                </span>
			</p>

			<legend>Album cover thumbnails</legend>

			<p>
				<a href="#update-thmcache" data-toggle="modal"><button class="btn btn-medium btn-primary">Update</button><span class="config-label">Album cover thumbnail cache</span></a>
			</p>
			<p>
				<a href="#regen-thmcache" data-toggle="modal"><button class="btn btn-medium btn-primary">Re-gen</button><span class="config-label">Album cover thumbnail cache</span></a>
				<a aria-label="Help" class="info-toggle" data-cmd="info-regen-thmcache" href="#notarget"><i class="fas fa-info-circle"></i></a>
				<span id="info-regen-thmcache" class="help-block-configs help-block-margin hide">
					Re-gen deletes the cache and adds all covers afresh. Update only adds covers that are new or have changed.
                </span>
				<span id="info-regenthmcache" class="help-block-configs help-block-margin">
					Update or regenerate the album cover thumbnail cache.<br>
                </span>
			</p>
			<p>
				<a id="view-thmcache-status" href="#notarget"><button class="btn btn-medium btn-primary">VIEW</button></a>&nbsp;Cache status:&nbsp;<span id="thmcache-status">$_thmcache_status</span>
			</p>
		</form>
	</div>
</div>

<!-- MODALS -->

<form class="form-horizontal" method="post">
	<div id="remount-sources" class="modal modal-sm2 hide" tabindex="-1" role="dialog" aria-labelledby="remount-sources-label" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		</div>

		<div class="modal-body">
			<h6>Remount music sources?</h6>
		</div>

		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
			<button class="btn btn-primary btn-submit" type="submit" name="remount" value="novalue">Yes</button>
		</div>
	</div>
</form>

<form class="form-horizontal" method="post">
	<div id="update-mpddb" class="modal modal-sm2 hide" tabindex="-1" role="dialog" aria-labelledby="update-mpddb-label" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		</div>

		<div class="modal-body">
			<h6>Update MPD database?</h6>
		</div>

		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
			<button class="btn btn-primary btn-submit" type="submit" name="updatempd" value="novalue">Yes</button>
		</div>
	</div>
</form>

<form class="form-horizontal" method="post">
	<div id="regen-mpddb" class="modal modal-sm2 hide" tabindex="-1" role="dialog" aria-labelledby="regen-mpddb-label" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		</div>

		<div class="modal-body">
			<h6>Regenerate MPD database?</h6>
		</div>

		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
			<button class="btn btn-primary btn-submit" type="submit" name="rescanmpd" value="novalue">Yes</button>
		</div>
	</div>
</form>

<form class="form-horizontal" method="post">
	<div id="clear-libcache" class="modal modal-sm2 hide" tabindex="-1" role="dialog" aria-labelledby="clear-libcache-label" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		</div>

		<div class="modal-body">
			<h6>Clear library tag cache?</h6>
		</div>

		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
			<button class="btn btn-primary btn-submit" type="submit" name="clrlibcache" value="novalue">Yes</button>
		</div>
	</div>
</form>

<form class="form-horizontal" method="post">
	<div id="update-thmcache" class="modal modal-sm2 hide" tabindex="-1" role="dialog" aria-labelledby="update-thmcache-label" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		</div>

		<div class="modal-body">
			<h6>Update thumbnail cache?</h6>
		</div>

		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
			<button class="btn btn-primary btn-submit" type="submit" name="updthmcache" value="novalue">Yes</button>
		</div>
	</div>
</form>

<form class="form-horizontal" method="post">
	<div id="regen-thmcache" class="modal modal-sm2 hide" tabindex="-1" role="dialog" aria-labelledby="regen-thmcache-label" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		</div>

		<div class="modal-body">
			<h6>Regenerate thumbnail cache?</h6>
		</div>

		<div class="modal-footer">
			<button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
			<button class="btn btn-primary btn-submit" type="submit" name="regenthmcache" value="novalue">Yes</button>
		</div>
	</div>
</form>
