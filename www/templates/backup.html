<!--
/**
 * moOde audio player (C) 2014 Tim Curtis
 * http://moodeaudio.org
 *
 * (C) 2021 @bitlab (@bitkeeper Git)
 *
 * This Program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3, or (at your option)
 * any later version.
 *
 * This Program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
-->
<div class="container">
	<div class="container2">
		<h1 class="cdsp-config">System Backup/Restore</h1>
		<form class="form-horizontal" action="" method="post" id="backup" $_backup_visible >

			<fieldset>
				<legend>Backup</legend>
				<div class="control-group">

					<label class="control-label">System Config</label>
					<div class="controls">
						$_togglebtn_backup_system
						<span id="info-backup_system" class="help-block-configs help-block-margin legend-info-help hide">
							<b>Backup system config, including backdrop image.</b><br/>
						</span>
					</div>

					<label class="control-label">CamillaDsp</label>
					<div class="controls">
						$_togglebtn_backup_camilladsp
						<span id="info-backup_camilladsp" class="help-block-configs help-block-margin legend-info-help hide">
							<b>Backup camilladsp pipeline configurations and ir files.</b><br/>
						</span>
					</div>

					<label class="control-label">Radio Stations:</label>
					<div class="controls">
					</div>
					<br/>

					<label class="control-label">moOde</label>
					<div class="controls">
						$_togglebtn_backup_radiostations_moode
						<span id="info-backup_radiostations_moode" class="help-block-configs help-block-margin legend-info-help hide">
							<b>Backup moOde standard supplied radio stations.</b><br/>
						</span>
					</div>

					<label class="control-label">Other</label>
					<div class="controls">
						$_togglebtn_backup_radiostations_other
						<span id="info-backup_radiostations_other" class="help-block-configs help-block-margin legend-info-help hide">
							<b>Backup user defined radio stations.</b><br/>
						</span>
					</div>

					<br/>

					<label class="control-label" for="wlan0pwd">WLAN pwd</label>
					<div class="controls">
						<input class="input-large" type="password" pattern=".{8,64}" id="backup_wlan0pwd" name="backup_wlan0pwd" value="$_wlan0pwd" disabled>
						<a aria-label="Help" class="info-toggle" data-cmd="info-backup_wlan0pwd" href="#notarget"><i class="fas fa-info-circle"></i></a>
						<a class="show-hide-password" href="#notarget" data-id="backup_wlan0pwd"><i class="fal fa-eye"></i></a>
						<span id="info-backup_wlan0pwd" class="help-block-configs help-block-margin hide">
							Length 8-63 chars. The password will be converted to a pre-shared key (PSK) after saving.
						</span>
					</div>

					<br/>

					<label class="control-label">Add Script</label>
					<div class="controls">
						<div class="modal-button-style">
							<label for="backup_scriptfile" id="choose-backup_scriptfile" class="btn btn-primary btn-medium">Select</label>
							<input type="file" id="backup_scriptfile" accept=".wav,.txt,.raw,.csv" name="backup_scriptfile" style="display:none" onchange="$('#btn-backup_scriptfile').click();" disabled>
							<button id="btn-backup_scriptfile" class="btn btn-medium btn-primary btn-submit" type="submit" name="backup_scriptfile" value="1"  style="display:none" disabled/>
						</div>&nbsp;&nbsp;
						<a aria-label="Help" class="info-toggle" data-cmd="info-backup_scriptfile" href="#notarget"><i class="fas fa-info-circle"></i></a>
						<div id="info-backup_scriptfile" class="help-block-configs help-block-margin legend-info-help hide">
								<b>Delete:&nbsp;</b>Delete the selected convolution file.</b><br/>
						</div>
					</div>

					<br/>
					<div class="control-group">
						<div class="controls">
							<button class="btn btn-medium btn-primary btn-submit" type="submit" name="backup_create" form="backup" value="1">Create Backup</button>

							<button id="btn-check-coeff" class="btn btn-medium btn-primary btn-submit" type="submit" name="info" value="1" style="display:none" >Info</button>

						</div>
					</div>

				</div>

			</fieldset>
		</form>


		<form class="form-horizontal" action="" method="post" id="restore"  enctype="multipart/form-data" $_restore_visible>
			<fieldset>
				<legend>Restore</legend>
				<div class="control-group">

					<label class="control-label">Backup file</label>
					<div class="controls">
						<div class="modal-button-style">
							<label for="restore_backupfile" id="choose+restore_backupfile" class="btn btn-primary btn-medium">Select</label>

							<input type="file" id="restore_backupfile" accept=".zip" name="restore_backupfile" style="display:none" required>

							<!-- <input type="file" id="restore_backupfile" accept=".zip" name="restore_backupfile" style="display:none" onchange="$('#btn-restore_backupfile').click();" >
							<button id="btn-restore_backupfile" class="btn btn-medium btn-primary btn-submit" type="submit" name="restore_backup_file" value="1"  style="display:none"/> -->
						</div>
						<a aria-label="Help" class="info-toggle" data-cmd="info-restore_backupfile" href="#notarget"><i class="fas fa-info-circle"></i></a>
						<div id="info-restore_backupfile" class="help-block-configs help-block-margin legend-info-help hide">
								<b>Select/upload backup file to restore</b><br/>
						</div>
					</div>
					<br/>

					<label class="control-label">System Config</label>
					<div class="controls">
						$_togglebtn_restore_system
						<span id="info-restore_system" class="help-block-configs help-block-margin legend-info-help hide">
							<b>Restore system config, including backdrop image and script is present in backup.</b><br/>
						</span>
					</div>

					<label class="control-label">CamillaDsp</label>
					<div class="controls">
						$_togglebtn_restore_camilladsp
						<span id="info-restore_camilladsp" class="help-block-configs help-block-margin legend-info-help hide">
							<b>Restore camilladsp pipeline configurations and ir files.</b><br/>
						</span>
					</div>

					<label class="control-label">Radio Stations:</label>
					<div class="controls">
					</div>
					<br/>

					<label class="control-label">moOde</label>
					<div class="controls">
						$_togglebtn_restore_radiostations_moode
						<span id="info-restore_radiostations_moode" class="help-block-configs help-block-margin legend-info-help hide">
							<b>Restore moOde standard supplied radio stations.</b><br/>
						</span>
					</div>

					<label class="control-label">Other</label>
					<div class="controls">
						$_togglebtn_restore_radiostations_other
						<span id="info-restore_radiostations_other" class="help-block-configs help-block-margin legend-info-help hide">
							<b>Restore user defined radio stations.</b><br/>
						</span>
					</div>

					</div>
					<br/>
					<div class="control-group">
						<div class="controls">
							<!-- <a data-toggle="modal" href="#remove-coeff"><button class="btn btn-medium btn-primary">Delete</button></a>&nbsp;&nbsp; -->
							<button class="btn btn-medium btn-primary btn-submit" type="submit" name="restore_start" form="restore" value="1">Start Restore</button>

							<!-- <button id="btn-check-coeff" class="btn btn-medium btn-primary btn-submit" type="submit" name="info" value="1" style="display:none" >Info</button> -->
							<a aria-label="Help" class="info-toggle" data-cmd="info-backup-restore" href="#notarget"><i class="fas fa-info-circle"></i></a>
							<div id="info-backup-restore" class="help-block-configs help-block-margin legend-info-help hide">
									<b>Start restore. If system is also restore an automatic reboot will be performed</b>
							</div>
						</div>
					</div>
			</fieldset>
		</form>

	</div>
</div>

